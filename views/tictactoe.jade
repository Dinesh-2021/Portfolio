//
                     Created by Briana on 10/27/15.
doctype html
html
   head
      title= title
      link(rel='stylesheet', href='/stylesheets/tictactoe.css')
      meta(name="viewport", content="width=device-width, initial-scale=1")
      link(rel='stylesheet', href='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js')
      link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css')
      link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css', integrity='sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==', crossorigin='anonymous')
      link(href='http://fonts.googleapis.com/css?family=Patua+One', rel='stylesheet', type='text/css')
      link(href='http://fonts.googleapis.com/css?family=Niconne', rel='stylesheet', type='text/css')
      script(src="https://fb.me/react-0.13.3.js")
      script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js")
      script(src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js')
   block content
      body.text-center
         h1  Tic-Tac-Toe
         .container
            .row
               h2.hover.col-xs-6.preferX I want to be X!
               h2.hover.col-xs-6.preferO I want to be O!
         .container.hover
            .row
               div#1.top.left.square.col-xs-4
               div#2.top.square.col-xs-4
               div#3.top.right.square.col-xs-4
            .row
               div#4.left.square.col-xs-4
               div#5.square.col-xs-4
               div#6.right.square.col-xs-4
            .row
               div#7.bottom.left.square.col-xs-4
               div#8.bottom.square.col-xs-4
               div#9.bottom.right.square.col-xs-4
         .container
            .row
               h2#newGame.hover.col-xs-12 New Game
      script.
         /**
          * Created by Briana on 10/27/15.
          */
         var user = "x";
         var comp = "o";
         $('.preferX').click(function(){
            user = "x";
            comp = "o";
         });
         $('.preferO').click(function(){
            user = "o";
            comp = "x";
         });

         var optionBox = [1, 2, 3, 4, 5, 6, 7, 8, 9];
         function dangerZone(){
            if ($("#1").html() === $("#2").html() &&
                    $("#1").html().length > 0){
               return 3;
            } else if ($("#1").html() === $("#3").html() &&
                    $("#1").html().length > 0){
               return 2;
            } else if ($("#4").html() === $("#5").html() &&
                    $("#4").html().length > 0){
               return 6;
            } else if ($("#4").html() === $("#6").html() &&
                    $("#4").html().length > 0){
               return 5;
            } else if ($("#7").html() === $("#8").html() &&
                    $("#7").html().length > 0){
               return 9;
            } else if ($("#7").html() === $("#9").html() &&
                    $("#7").html().length > 0){
               return 8;
            } else if ($("#1").html() === $("#4").html() &&
                    $("#1").html().length > 0){
               return 7;
            } else if ($("#1").html() === $("#7").html() &&
                    $("#1").html().length > 0){
               return 4;
            } else if ($("#2").html() === $("#5").html() &&
                    $("#2").html().length > 0){
               return 8;
            } else if ($("#2").html() === $("#8").html() &&
                    $("#2").html().length > 0){
               return 5;
            } else if ($("#3").html() === $("#6").html() &&
                    $("#3").html().length > 0){
               return 9;
            } else if ($("#3").html() === $("#9").html() &&
                    $("#3").html().length > 0){
               return 6;
            } else if ($("#1").html() === $("#5").html() &&
                    $("#1").html().length > 0){
               return 9;
            } else if ($("#1").html() === $("#9").html() &&
                    $("#1").html().length > 0){
               return 5;
            } else {
               return undefined;
            }
         }
         function checkWin(){
            if ($("#1").html() === $("#2").html() &&
                $("#1").html() === $("#3").html() &&
                $("#1").html().length > 0){
               $("#1").css('color', 'red');
               $("#2").css('color', 'red');
               $("#3").css('color', 'red');
            }
            if ($("#4").html() === $("#5").html() &&
                    $("#4").html() === $("#6").html() &&
                    $("#4").html().length > 0) {
               $("#4").css('color', 'red');
               $("#5").css('color', 'red');
               $("#6").css('color', 'red');
            }
            if ($("#7").html() === $("#8").html() &&
                    $("#7").html() === $("#9").html() &&
                    $("#7").html().length > 0) {
               $("#7").css('color', 'red');
               $("#8").css('color', 'red');
               $("#9").css('color', 'red');
            }
            if ($("#1").html() === $("#4").html() &&
                    $("#1").html() === $("#7").html() &&
                    $("#1").html().length > 0) {
               $("#1").css('color', 'red');
               $("#4").css('color', 'red');
               $("#7").css('color', 'red');
            }
            if ($("#2").html() === $("#5").html() &&
                    $("#2").html() === $("#8").html() &&
                    $("#2").html().length > 0) {
               $("#2").css('color', 'red');
               $("#5").css('color', 'red');
               $("#8").css('color', 'red');
            }
            if ($("#3").html() === $("#6").html() &&
                    $("#3").html() === $("#9").html() &&
                    $("#3").html().length > 0) {
               $("#3").css('color', 'red');
               $("#6").css('color', 'red');
               $("#9").css('color', 'red');
            }
            if ($("#1").html() === $("#5").html() &&
                    $("#1").html() === $("#9").html() &&
                    $("#1").html().length > 0) {
               $("#1").css('color', 'red');
               $("#5").css('color', 'red');
               $("#9").css('color', 'red');
            }
            if ($("#3").html() === $("#5").html() &&
                    $("#3").html() === $("#7").html() &&
                    $("#3").html().length > 0) {
               $("#3").css('color', 'red');
               $("#5").css('color', 'red');
               $("#7").css('color', 'red');
            }
         }
         $("#1").click(function () {
            //users choice appearing
            $(this).html(user);
            var index = optionBox.indexOf(1);
            console.log(index);
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            if (optionBox.indexOf(5) >= 0){
               randomChoice = 5;
            } else if (dangerZone() !== undefined) {
               randomChoice = dangerZone();
            } else {
               //computer choice being made and appearing
               var randomChoice = optionBox[Math.floor(Math.random() * (optionBox.length - 1) + 1)];
            }
            var workingID = "#" + randomChoice.toString();
            $(workingID).html(comp);
            index = optionBox.indexOf(randomChoice)
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            console.log(optionBox);
            checkWin();
         })
         $("#2").click(function () {
            //users choice appearing
            $(this).html(user);
            var index = optionBox.indexOf(2);
            console.log(index);
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            console.log(optionBox);
            //computer choice being made and appearing
            if (optionBox.indexOf(5) >= 0){
               randomChoice = 5;
            } else if (dangerZone() !== undefined) {
               randomChoice = dangerZone();
            } else {
               //computer choice being made and appearing
               var randomChoice = optionBox[Math.floor(Math.random() * (optionBox.length - 1) + 1)];
            }
            var workingID = "#" + randomChoice.toString();
            $(workingID).html(comp);
            index = optionBox.indexOf(randomChoice)
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            console.log(optionBox);
            checkWin();
         })
         $("#3").click(function () {
            //users choice appearing
            $(this).html(user);
            var index = optionBox.indexOf(3);
            console.log(index);
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            if (optionBox.indexOf(5) >= 0){
               randomChoice = 5;
            } else if (dangerZone() !== undefined) {
               randomChoice = dangerZone();
            } else {
               //computer choice being made and appearing
               var randomChoice = optionBox[Math.floor(Math.random() * (optionBox.length - 1) + 1)];
            }
            var workingID = "#" + randomChoice.toString();
            $(workingID).html(comp);
            index = optionBox.indexOf(randomChoice)
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            console.log(optionBox);
            checkWin();
         })
         $("#4").click(function () {
            //users choice appearing
            $(this).html(user);
            var index = optionBox.indexOf(4);
            console.log(index);
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            if (optionBox.indexOf(5) >= 0){
               randomChoice = 5;
            } else if (dangerZone() !== undefined) {
               randomChoice = dangerZone();
            } else {
               //computer choice being made and appearing
               var randomChoice = optionBox[Math.floor(Math.random() * (optionBox.length - 1) + 1)];
            }
            var workingID = "#" + randomChoice.toString();
            $(workingID).html(comp);
            index = optionBox.indexOf(randomChoice)
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            console.log(optionBox);
            checkWin();
         })
         $("#5").click(function () {
            //users choice appearing
            $(this).html(user);
            var index = optionBox.indexOf(5);
            console.log(index);
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            if (optionBox.indexOf(1) >= 0){
               randomChoice = 1;
            } else if (dangerZone() !== undefined) {
               randomChoice = dangerZone();
            } else {
               //computer choice being made and appearing
               var randomChoice = optionBox[Math.floor(Math.random() * (optionBox.length - 1) + 1)];
            }
            var workingID = "#" + randomChoice.toString();
            $(workingID).html(comp);
            index = optionBox.indexOf(randomChoice)
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            checkWin();
         })
         $("#6").click(function () {
            //users choice appearing
            $(this).html(user);
            var index = optionBox.indexOf(6);
            console.log(index);
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            if (optionBox.indexOf(5) >= 0){
               randomChoice = 5;
            } else if (dangerZone() !== undefined) {
               randomChoice = dangerZone();
            } else {
               //computer choice being made and appearing
               var randomChoice = optionBox[Math.floor(Math.random() * (optionBox.length - 1) + 1)];
            }
            var workingID = "#" + randomChoice.toString();
            $(workingID).html(comp);
            index = optionBox.indexOf(randomChoice)
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            console.log(optionBox);
            checkWin();
         })
         $("#7").click(function () {
            //users choice appearing
            $(this).html(user);
            var index = optionBox.indexOf(7);
            console.log(index);
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            if (optionBox.indexOf(5) >= 0){
               randomChoice = 5;
            } else if (dangerZone() !== undefined) {
               randomChoice = dangerZone();
            } else {
               //computer choice being made and appearing
               var randomChoice = optionBox[Math.floor(Math.random() * (optionBox.length - 1) + 1)];
            }
            var workingID = "#" + randomChoice.toString();
            $(workingID).html(comp);
            index = optionBox.indexOf(randomChoice)
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            console.log(optionBox);
            checkWin();
         })
         $("#8").click(function () {
            //users choice appearing
            $(this).html(user);
            var index = optionBox.indexOf(8);
            console.log(index);
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            if (optionBox.indexOf(5) >= 0){
               randomChoice = 5;
            } else if (dangerZone() !== undefined) {
               randomChoice = dangerZone();
            } else {
               //computer choice being made and appearing
               var randomChoice = optionBox[Math.floor(Math.random() * (optionBox.length - 1) + 1)];
            }
            var workingID = "#" + randomChoice.toString();
            $(workingID).html(comp);
            index = optionBox.indexOf(randomChoice)
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            console.log(optionBox);
            checkWin();
         })
         $("#9").click(function () {
            //users choice appearing
            $(this).html(user);
            var index = optionBox.indexOf(9);
            console.log(index);
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            if (optionBox.indexOf(5) >= 0){
               randomChoice = 5;
            } else if (dangerZone() !== undefined) {
               randomChoice = dangerZone();
            } else {
               //computer choice being made and appearing
               var randomChoice = optionBox[Math.floor(Math.random() * (optionBox.length - 1) + 1)];
            }
            var workingID = "#" + randomChoice.toString();
            $(workingID).html(comp);
            index = optionBox.indexOf(randomChoice)
            if (index > -1) {
               optionBox.splice(index, 1);
            }
            console.log(optionBox);
            checkWin();
         })
         $("#newGame").click(function () {
            optionBox = [1, 2, 3, 4, 5, 6, 7, 8, 9];
            console.log(optionBox);
            $('.square').empty();
            $("#1").css('color', 'black');
            $("#2").css('color', 'black');
            $("#3").css('color', 'black');
            $("#4").css('color', 'black');
            $("#5").css('color', 'black');
            $("#6").css('color', 'black');
            $("#7").css('color', 'black');
            $("#8").css('color', 'black');
            $("#9").css('color', 'black');
         })




         //if user picks corner for first choice, comp goes to middle
         //if user picks center for first choice, comp picks corner
